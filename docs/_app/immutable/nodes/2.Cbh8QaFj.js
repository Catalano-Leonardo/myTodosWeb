import{a as w,t as R,b as Ne,c as Ie}from"../chunks/disclose-version.bFRTPyy0.js";import{i as ve}from"../chunks/legacy.Dk2WuLPO.js";import{m as be,v as A,C as de,M as Se,ar as ce,N as $e,O as ee,B as ae,P as V,w as L,at as H,Q as ue,n as _e,R as we,z as G,au as xe,av as Oe,aq as Ce,aw as Me,q as Re,an as qe,ag as he,a7 as De,G as te,ax as Le,ay as Pe,az as Be,ak as Fe,aA as He,aB as ze,L as Ge,aC as Je,E as Ue,aD as Ve,aE as Ke,a8 as Ye,e as pe,aF as Qe,aG as We,aa as Xe,o as P,aH as Ze,aI as je,af as re,Z as se,aJ as ea,a9 as aa,t as D,c as b,r as S,h as I,a2 as ta,p as me,aK as ge,aL as ra,aM as sa,f as Q,aN as na,s as $,a as ye,j as ia,I as z}from"../chunks/runtime.DTpu0EA1.js";import{p as q,c as la,i as oa,o as fa}from"../chunks/index-client.C6SZQ2dH.js";import{d as va,e as da,l as ca,f as ua,g as X,a as Z}from"../chunks/store.D2sDRlcC.js";function _a(a,e){return e}function ha(a,e,t,r){for(var n=[],s=e.length,l=0;l<s;l++)Oe(e[l].e,n,!0);var c=s>0&&n.length===0&&t!==null;if(c){var p=t.parentNode;Ce(p),p.append(t),r.clear(),C(a,e[0].prev,e[s-1].next)}Me(n,()=>{for(var y=0;y<s;y++){var u=e[y];c||(r.delete(u.k),C(a,u.prev,u.next)),Re(u.e,!c)}})}function pa(a,e,t,r,n,s=null){var l=a,c={flags:e,items:new Map,first:null};A&&de();var p=null,y=!1;be(()=>{var u=t(),i=Se(u)?u:u==null?[]:ce(u),v=i.length;if(y&&v===0)return;y=v===0;let _=!1;if(A){var o=l.data===$e;o!==(v===0)&&(l=ee(),ae(l),V(!1),_=!0)}if(A){for(var h=null,d,g=0;g<v;g++){if(L.nodeType===8&&L.data===qe){l=L,_=!0,V(!1);break}var f=i[g],k=r(f,g);d=ke(L,c,h,null,f,k,g,n,e),c.items.set(k,d),h=d}v>0&&ae(ee())}if(!A){var T=he;ma(i,c,l,n,e,(T.f&H)!==0,r)}s!==null&&(v===0?p?ue(p):p=_e(()=>s(l)):p!==null&&we(p,()=>{p=null})),_&&V(!0),t()}),A&&(l=L)}function ma(a,e,t,r,n,s,l,c){var p=a.length,y=e.items,u=e.first,i=u,v,_=null,o=[],h=[],d,g,f,k;for(k=0;k<p;k+=1){if(d=a[k],g=l(d,k),f=y.get(g),f===void 0){var T=i?i.e.nodes_start:t;_=ke(T,e,_,_===null?e.first:_.next,d,g,k,r,n),y.set(g,_),o=[],h=[],i=_.next;continue}if(ga(f,d,k),f.e.f&H&&ue(f.e),f!==i){if(v!==void 0&&v.has(f)){if(o.length<h.length){var m=h[0],E;_=m.prev;var x=o[0],N=o[o.length-1];for(E=0;E<o.length;E+=1)ne(o[E],m,t);for(E=0;E<h.length;E+=1)v.delete(h[E]);C(e,x.prev,N.next),C(e,_,x),C(e,N,m),i=m,_=N,k-=1,o=[],h=[]}else v.delete(f),ne(f,i,t),C(e,f.prev,f.next),C(e,f,_===null?e.first:_.next),C(e,_,f),_=f;continue}for(o=[],h=[];i!==null&&i.k!==g;)(s||!(i.e.f&H))&&(v??(v=new Set)).add(i),h.push(i),i=i.next;if(i===null)continue;f=i}o.push(f),_=f,i=f.next}if(i!==null||v!==void 0){for(var U=v===void 0?[]:ce(v);i!==null;)(s||!(i.e.f&H))&&U.push(i),i=i.next;var Te=U.length;if(Te>0){var Ae=null;ha(e,U,Ae,y)}}G.first=e.first&&e.first.e,G.last=_&&_.e}function ga(a,e,t,r){xe(a.v,e),a.i=t}function ke(a,e,t,r,n,s,l,c,p,y){var u=(p&Pe)!==0,i=(p&Be)===0,v=u?i?De(n):te(n):n,_=p&Le?te(l):l,o={i:_,v,k:s,a:null,e:null,prev:t,next:r};try{return o.e=_e(()=>c(a,v,_),A),o.e.prev=t&&t.e,o.e.next=r&&r.e,t===null?e.first=o:(t.next=o,t.e.next=o.e),r!==null&&(r.prev=o,r.e.prev=o.e),o}finally{}}function ne(a,e,t){for(var r=a.next?a.next.e.nodes_start:t,n=e?e.e.nodes_start:t,s=a.e.nodes_start;s!==r;){var l=Fe(s);n.before(s),s=l}}function C(a,e,t){e===null?a.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function ya(a,e,t,r,n){var c;A&&de();var s=(c=e.$$slots)==null?void 0:c[t],l=!1;s===!0&&(s=e.children,l=!0),s===void 0||s(a,l?()=>r:r)}function ka(a){if(A){var e=!1,t=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var r=a.value;J(a,"value",null),a.value=r}if(a.hasAttribute("checked")){var n=a.checked;J(a,"checked",null),a.checked=n}}};a.__on_r=t,He(t),va()}}function J(a,e,t,r){var n=a.__attributes??(a.__attributes={});A&&(n[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||n[e]!==(n[e]=t)&&(e==="style"&&"__styles"in a&&(a.__styles={}),e==="loading"&&(a[ze]=t),t==null?a.removeAttribute(e):typeof t!="string"&&Ea(a).includes(e)?a[e]=t:a.setAttribute(e,t))}var ie=new Map;function Ea(a){var e=ie.get(a.nodeName);if(e)return e;ie.set(a.nodeName,e=[]);for(var t,r=a,n=Element.prototype;n!==r;){t=Je(r);for(var s in t)t[s].set&&e.push(s);r=Ge(r)}return e}function j(a,e){var t=a.__className,r=Ta(e);A&&a.className===r?a.__className=r:(t!==r||A&&a.className!==r)&&(e==null?a.removeAttribute("class"):a.className=r,a.__className=r)}function Ta(a){return a??""}const Aa=()=>performance.now(),O={tick:a=>requestAnimationFrame(a),now:()=>Aa(),tasks:new Set};function Ee(){const a=O.now();O.tasks.forEach(e=>{e.c(a)||(O.tasks.delete(e),e.f())}),O.tasks.size!==0&&O.tick(Ee)}function Na(a){let e;return O.tasks.size===0&&O.tick(Ee),{promise:new Promise(t=>{O.tasks.add(e={c:a,f:t})}),abort(){O.tasks.delete(e)}}}function F(a,e){a.dispatchEvent(new CustomEvent(e))}function Ia(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const e=a.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function le(a){const e={},t=a.split(";");for(const r of t){const[n,s]=r.split(":");if(!n||s===void 0)break;const l=Ia(n.trim());e[l]=s.trim()}return e}const ba=a=>a;function oe(a,e,t,r){var n=(a&Qe)!==0,s=(a&Ze)!==0,l=n&&s,c=(a&je)!==0,p=l?"both":n?"in":"out",y,u=e.inert,i,v;function _(){var f=he,k=G;re(null),se(null);try{return y??(y=t()(e,(r==null?void 0:r())??{},{direction:p}))}finally{re(f),se(k)}}var o={is_global:c,in(){var f;if(e.inert=u,!n){v==null||v.abort(),(f=v==null?void 0:v.reset)==null||f.call(v);return}s||i==null||i.abort(),F(e,"introstart"),i=W(e,_(),v,1,()=>{F(e,"introend"),i==null||i.abort(),i=y=void 0})},out(f){if(!s){f==null||f(),y=void 0;return}e.inert=!0,F(e,"outrostart"),v=W(e,_(),i,0,()=>{F(e,"outroend"),f==null||f()})},stop:()=>{i==null||i.abort(),v==null||v.abort()}},h=G;if((h.transitions??(h.transitions=[])).push(o),n&&da){var d=c;if(!d){for(var g=h.parent;g&&g.f&Ue;)for(;(g=g.parent)&&!(g.f&Ve););d=!g||(g.f&Ke)!==0}d&&Ye(()=>{pe(()=>o.in())})}}function W(a,e,t,r,n){var s=r===1;if(We(e)){var l,c=!1;return Xe(()=>{if(!c){var d=e({direction:s?"in":"out"});l=W(a,d,t,r,n)}}),{abort:()=>{c=!0,l==null||l.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return n(),{abort:P,deactivate:P,reset:P,t:()=>r};const{delay:p=0,css:y,tick:u,easing:i=ba}=e;var v=[];if(s&&t===void 0&&(u&&u(0,1),y)){var _=le(y(0,1));v.push(_,_)}var o=()=>1-r,h=a.animate(v,{duration:p});return h.onfinish=()=>{var d=(t==null?void 0:t.t())??1-r;t==null||t.abort();var g=r-d,f=e.duration*Math.abs(g),k=[];if(f>0){if(y)for(var T=Math.ceil(f/16.666666666666668),m=0;m<=T;m+=1){var E=d+g*i(m/T),x=y(E,1-E);k.push(le(x))}o=()=>{var N=h.currentTime;return d+g*i(N/f)},u&&Na(()=>{if(h.playState!=="running")return!1;var N=o();return u(N,1-N),!0})}h=a.animate(k,{duration:f,fill:"forwards"}),h.onfinish=()=>{o=()=>r,u==null||u(r,1-r),n()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=P)},deactivate:()=>{n=P},reset:()=>{r===0&&(u==null||u(1,0))},t:()=>o()}}function Sa(a,e,t=e){var r=ea();ca(a,"input",n=>{var s=n?a.defaultValue:a.value;if(s=K(a)?Y(s):s,t(s),r&&s!==(s=e())){var l=a.selectionStart,c=a.selectionEnd;a.value=s??"",c!==null&&(a.selectionStart=l,a.selectionEnd=Math.min(c,a.value.length))}}),(A&&a.defaultValue!==a.value||pe(e)==null&&a.value)&&t(K(a)?Y(a.value):a.value),aa(()=>{var n=e();K(a)&&n===Y(a.value)||a.type==="date"&&!n&&!a.value||n!==a.value&&(a.value=n??"")})}function K(a){var e=a.type;return e==="number"||e==="range"}function Y(a){return a===""?null:+a}var $a=R('<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined">'),wa=R('<span class="material-icons-outlined icon svelte-kcqy11"> </span>');function M(a,e){let t=q(e,"name",8),r=q(e,"handler",8,()=>{}),n=q(e,"color",8,"green");var s=wa();ua(c=>{var p=$a();w(c,p)});var l=b(s,!0);S(s),D(()=>{J(s,"style",`--color:${n()??""};`),Z(l,t())}),X("click",s,function(...c){var p;(p=r())==null||p.apply(this,c)}),w(a,s)}var xa=R("<span> </span>");function Oa(a,e){let t=q(e,"prio",12,3),r=q(e,"disabled",8,!1);const n=y=>({1:"ALTA",2:"MEDIA",3:"BASSA"})[y],s=()=>{r()||t((t()+1)%3+1)};var l=xa();const c=ta(()=>`${(r()?"DISABILITATO":n(t()))??""} svelte-necsms`);var p=b(l,!0);D(()=>Z(p,n(t()))),S(l),D(()=>j(l,I(c))),X("click",l,s),w(a,l)}const Ca=a=>a;function fe(a,{delay:e=0,duration:t=400,easing:r=Ca}={}){const n=+getComputedStyle(a).opacity;return{delay:e,duration:t,easing:r,css:s=>`opacity: ${s*n}`}}var Ma=R("<div><!></div>");function B(a,e){let t=q(e,"last",8,!1);var r=Ma(),n=b(r);ya(n,e,"default",{}),S(r),D(()=>j(r,`cell ${(t()?"cell-last":"")??""} svelte-1rok9x2`)),oe(1,r,()=>fe,()=>({duration:700})),oe(2,r,()=>fe,()=>({duration:350})),w(a,r)}var Ra=R('<input type="text" placeholder="inserisci il nuovo ToDo">'),qa=R("<!> <!> <!> <!> <!>",1);function Da(a,e){me(e,!1);let t=q(e,"todo",12),r=ge(t().priority);const n=la(),s=()=>{t(t().done=!t().done,!0),c("update")},l=()=>{document.getElementById(t().id).blur(),c("update")},c=o=>{n("change",{type:o,id:t().id})};ra(()=>(ia(t()),I(r)),()=>{t().priority!=I(r)&&(z(r,t().priority),c("update"))}),sa(),ve();var p=qa(),y=Q(p);B(y,{children:(o,h)=>{na();var d=Ne();D(()=>Z(d,t().id)),w(o,d)},$$slots:{default:!0}});var u=$(y,2);B(u,{children:(o,h)=>{var d=Ie(),g=Q(d);{var f=T=>{M(T,{name:"circle",handler:s,color:"red"})},k=T=>{M(T,{name:"task_alt",handler:s})};oa(g,T=>{t().done==!1?T(f):T(k,!1)})}w(o,d)},$$slots:{default:!0}});var i=$(u,2);B(i,{children:(o,h)=>{var d=Ra();ka(d),D(()=>{j(d,`todo-item-input-text ${(t().done==!0?"text-done":"")??""} svelte-vtnw04`),J(d,"id",t().id)}),Sa(d,()=>t().task,g=>t(t().task=g,!0)),X("change",d,l),w(o,d)},$$slots:{default:!0}});var v=$(i,2);B(v,{children:(o,h)=>{Oa(o,{get disabled(){return t().done},get prio(){return t().priority},set prio(d){t(t().priority=d,!0)},$$legacy:!0})},$$slots:{default:!0}});var _=$(v,2);B(_,{last:!0,children:(o,h)=>{M(o,{name:"delete_forever",color:"red",handler:()=>c("delete")})},$$slots:{default:!0}}),w(a,p),ye()}var La=R('<h1 class="app-title svelte-n75paq">ToDos</h1> <div class="todo-list svelte-n75paq"><div class="header svelte-n75paq"><!></div> <div class="header svelte-n75paq"><!></div> <div class="header svelte-n75paq"><!></div> <div class="header svelte-n75paq"><!></div> <div class="header header-last svelte-n75paq"><!></div> <!></div>',1);function Pa(a,e){me(e,!1);let t=ge([]),r=0;const n=async()=>{let m={id:++r,task:"",done:!1,priority:3};console.log("CREATE",m),localStorage.setItem("todo${todo.id}",JSON.stringify(m)),z(t,[...I(t),m])},s=async m=>{switch(m.detail.type){case"update":l(m.detail.id);break;case"delete":c(m.detail.id);break}},l=m=>{console.log("UPDATE:",m);const E=I(t).filter(x=>x.id==m)[0];localStorage.setItem("todo"+m,JSON.stringify(E))},c=m=>{console.log("DELETE:",m),z(t,I(t).filter(E=>E.id!=m)),localStorage.removeItem("todo"+m)};fa(async()=>{for(let m=0;m<localStorage.length;m++){const E=localStorage.key(m),x=+E.substring(4);x>=r&&(r=x);const N=JSON.parse(localStorage.getItem(E));N!=null&&I(t).push(N)}z(t,[...I(t)])}),ve();var p=La(),y=$(Q(p),2),u=b(y),i=b(u);M(i,{name:"tag"}),S(u);var v=$(u,2),_=b(v);M(_,{name:"task_alt"}),S(v);var o=$(v,2),h=b(o);M(h,{name:"list"}),S(o);var d=$(o,2),g=b(d);M(g,{name:"schedule"}),S(d);var f=$(d,2),k=b(f);M(k,{name:"add_box",handler:n}),S(f);var T=$(f,2);pa(T,1,()=>I(t),_a,(m,E)=>{Da(m,{get todo(){return I(E)},$$events:{change:s}})}),S(y),w(a,p),ye()}var Ba=R('<main class="svelte-vkletp"><!></main>');function Ua(a){var e=Ba(),t=b(e);Pa(t,{}),S(e),w(a,e)}export{Ua as component};
